quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
quarkus.datasource.username=sa
quarkus.datasource.password=sa

# Hibernate schema management
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=true

# Flyway migrations
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=db/migration

# REST and dev settings
quarkus.http.test-port=0

# Swagger UI (zobraz aj mimo dev, napr. pri spustení jar)
quarkus.swagger-ui.always-include=true

# -------- Kafka connection --------
# For local development it defaults to localhost:9092.
# In Kubernetes, override via ConfigMap or the KAFKA_BOOTSTRAP_SERVERS env var (e.g., kafka:9092).
mp.messaging.connector.smallrye-kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

# -------- Incoming channel from Kafka --------
# Logický názov kanálu: "ktop-in"
mp.messaging.incoming.ktop-in.connector=smallrye-kafka
mp.messaging.incoming.ktop-in.topic=my.first.topic
mp.messaging.incoming.ktop-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.ktop-in.auto.offset.reset=earliest

# Consumer group
mp.messaging.incoming.ktop-in.group.id=quarkus-ktop-consumer

# -------- Outgoing channel to Kafka --------
# Logický názov kanálu: "ktop-out"
mp.messaging.outgoing.ktop-out.connector=smallrye-kafka
mp.messaging.outgoing.ktop-out.topic=my.first.topic
mp.messaging.outgoing.ktop-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# -------- Custom application properties --------
# Random value generated at startup (uses SmallRye Config random expressions)
app.random=nr1

# -------- Logging (JSON output for ELK) --------
# Default: human-readable console logs locally. Set to true to enable JSON logs.
quarkus.log.console.json=false
# When JSON is enabled, include common fields suitable for ELK ingestion
quarkus.log.console.json.fields=timestamp,level,loggerName,threadName,message,mdc,exception
# Use short level names (INFO, WARN, ERROR)
quarkus.log.console.json.level=info
# Customize JSON field names (optional, good defaults for ELK)
quarkus.log.console.json.field-names.timestamp=@timestamp
quarkus.log.console.json.field-names.level=level
quarkus.log.console.json.field-names.loggerName=logger
quarkus.log.console.json.field-names.threadName=thread
quarkus.log.console.json.field-names.message=message
quarkus.log.console.json.field-names.mdc=mdc
quarkus.log.console.json.exception-output-type=formatted

# -------- Graceful shutdown --------
# Total time Quarkus will wait for ongoing work to complete during shutdown
quarkus.shutdown.timeout=30s
# When enabled, new HTTP requests are rejected during shutdown while in-flight ones are allowed to complete
quarkus.http.graceful-shutdown=true
